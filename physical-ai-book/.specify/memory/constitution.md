<!-- Sync Impact Report -->
<!--
Version change: None -> 1.0.0
Modified principles: None (initial creation)
Added sections: Purpose & Philosophy, Entities in the SpecKit Ecosystem, Spec-Driven Life Cycle, Quality Standards, Naming, Ordering, and Folder Structure Rules, Governance of AI Behavior, Reusable Intelligence Requirements, Compliance & Validation, Amendments
Removed sections: None
Templates requiring updates:
- .specify/templates/plan-template.md: ✅ updated
- .specify/templates/spec-template.md: ✅ updated
- .specify/templates/tasks-template.md: ✅ updated
- .specify/templates/commands/*.md: ✅ updated
Follow-up TODOs: None
-->
# SpecKit Constitution for AI/Spec-Driven Book Creation

## Article I: Purpose & Philosophy

### Section 1.1: Purpose of SpecKit
This Constitution establishes the foundational governance for the "Teaching Physical AI & Humanoid Robotics Course – AI/Spec-Driven Book Creation" project, herein referred to as "the Project." SpecKit is adopted as the primary methodology to automate and structure the creation of a multi-chapter book on the Docusaurus platform, ensuring a robust, scalable, and auditable development workflow.

### Section 1.2: Core Principles
This Project operates under the following non-negotiable principles:

#### Principle I: Deterministic Generation
All outputs and artifacts generated by AI agents must be deterministic, meaning identical inputs will consistently produce identical outputs under the same conditions. This ensures predictability and testability across the Spec-Driven Development lifecycle.

#### Principle II: Reproducibility
The entire book creation process, from specification to deployment, must be fully reproducible. Any stage can be re-executed to achieve the same results, facilitating easy regeneration and version control.

#### Principle III: Composability
All components, including specifications, skills, and subagents, must be designed to be modular and composable. This allows for flexible assembly, reuse across different parts of the project, and promotes maintainability.

#### Principle IV: Human Override & Oversight
While automation is central, human intelligence retains ultimate authority and control. All critical stages, especially review and correction, require explicit human approval. Mechanisms for human intervention and override must be present at every phase.

#### Principle V: Anti-Hallucination Mandate
AI agents are strictly prohibited from hallucinating or inventing content, data, or logic not explicitly derived from the written Specifications or the attached PDF Source Material. All generated content (except summaries, examples, quizzes, which are derived *from* the source) must be traceable to an authoritative source.

## Article II: Entities in the SpecKit Ecosystem

### Section 2.1: The Project
The "Teaching Physical AI & Humanoid Robotics Course – AI/Spec-Driven Book Creation" project, targeting GitHub Pages deployment via Docusaurus.

### Section 2.2: Specifications
Formal documents defining requirements, architecture, and design:
- **Project Spec:** Defines overall project goals, scope, and high-level architecture.
- **Book Structure Spec:** Details the hierarchical organization of the book, chapters, and sections.
- **Chapter Spec:** Specifies content, learning objectives, and structural elements for individual chapters.
- **Component Spec:** Defines reusable UI components or content blocks within Docusaurus.
- **Skills Spec:** Delineates atomic units of AI intelligence (see Section 2.3).
- **Subagents Spec:** Describes composite AI workflows (see Section 2.4).
- **Responsibilities:** Provide unambiguous instructions and constraints for content generation and system behavior.
- **Boundaries:** Each spec operates within its defined domain; no spec shall contradict a higher-level spec.
- **Inputs/Outputs:** Clearly defined inputs for generation, and expected outputs.
- **Decision-Making Rules:** Specs serve as the authoritative source; AI agents must strictly adhere to their directives.

### Section 2.3: Skills (Atomic Units of Intelligence)
- **Definition:** Small, stateless, reusable functions or capabilities exposed to AI agents.
- **Responsibilities:** Perform a single, well-defined task (e.g., "summarize-paragraph," "generate-quiz-question").
- **Boundaries:** Operate strictly within their defined input/output contracts. No side effects outside their explicit purpose.
- **Inputs/Outputs:** Clear, structured inputs (e.g., text, JSON) and structured outputs (e.g., JSON, Markdown).
- **Decision-Making Rules:** Execute based on their internal logic and provided inputs; do not infer or expand scope.

### Section 2.4: Subagents (Workflow Chains)
- **Definition:** Modular, composite AI agents that orchestrate a sequence of Skills or other Subagents to achieve a larger workflow.
- **Responsibilities:** Manage a multi-step process, coordinating atomic actions.
- **Boundaries:** Operate within their defined workflow scope; must not deviate from the specified sequence or logic.
- **Inputs/Outputs:** Defined inputs to initiate a workflow, and a final structured output representing the workflow's result.
- **Decision-Making Rules:** Follow the prescribed workflow steps; defer to human oversight for ambiguities or unexpected outcomes.

### Section 2.5: Orchestrator (Top-Level Controller)
- **Definition:** The highest-level AI agent responsible for coordinating the overall book creation process, invoking Subagents and managing the Spec-Driven Life Cycle.
- **Responsibilities:** Ensure adherence to the Project Spec, manage the flow through all lifecycle phases, and integrate outputs into the Docusaurus structure.
- **Boundaries:** Does not perform content generation directly but manages and validates the output of Subagents.
- **Inputs/Outputs:** Takes the Project Spec and Source Material as input; outputs the final Docusaurus book structure.
- **Decision-Making Rules:** Prioritizes compliance with all Specifications and this Constitution; flags human intervention for non-compliance or critical decision points.

## Article III: Spec-Driven Life Cycle

### Section 3.1: Phases of Development
The Project shall progress through the following sequential phases, each with defined quality gates:

1.  **Specification:** Comprehensive creation and refinement of all necessary Project, Book Structure, Chapter, Component, Skills, and Subagents Specifications. *Quality Gate: All specs are complete, unambiguous, and approved by human. No outstanding clarification questions.*
2.  **Input Acquisition & PDF Processing:** Secure and process the attached PDF containing the full course content. This includes extraction of text, images, and other relevant data. *Quality Gate: All source material is successfully ingested and accessible.*
3.  **Chunking:** Divide the processed source material into manageable, semantically coherent chunks suitable for AI processing. *Quality Gate: Chunking strategy aligns with chapter/section boundaries; chunks are verifiable and complete.*
4.  **Draft Generation:** AI agents generate initial content drafts for chapters, quizzes, summaries, and code examples based on the Chunked Input and relevant Specifications. *Quality Gate: Initial drafts adhere to chapter/section structure and content requirements.*
5.  **Assembly into Docusaurus Docs Structure:** Integrate generated content into the Docusaurus documentation framework, ensuring correct file placement, front-matter, and sidebar navigation. *Quality Gate: All generated content is correctly placed and formatted within the Docusaurus structure; Docusaurus build is stable.*
6.  **Review & Correction:** Human review of all generated content for accuracy, clarity, adherence to learning objectives, and overall quality. AI agents assist in implementing corrections and refinements. *Quality Gate: All content is human-approved; all corrections implemented and verified.*
7.  **Build & Deployment to GitHub Pages:** Final Docusaurus build and deployment to the designated GitHub Pages environment. *Quality Gate: Successful, error-free build; deployed content is accessible and functional.*

## Article IV: Quality Standards

### Section 4.1: Content and Structure Standards
All generated content and structural elements must adhere to the following:

-   **Markdown Correctness:** All textual content must strictly conform to GitHub Flavored Markdown (GFM) syntax.
-   **Docusaurus Structure:** Files must be placed in the correct `/docs` subdirectories, with appropriate `_category_.json` files for sidebar generation.
-   **Front-Matter Format:** Every Markdown file must include a valid Docusaurus front-matter block, specifying `id`, `title`, `sidebar_position`, and other required metadata.
-   **Quizzes, Summaries, and Code Examples:** These elements, while AI-generated, must be derived from the source PDF content and formatted according to their respective specifications, ensuring pedagogical soundness and code correctness.
-   **Deterministic Output:** As per Article I, Principle I, content generation must be deterministic.
-   **Consistent Folder Naming:** All folders and files within `/docs` and `/specs` must follow a `NN-prefix-semantic-filename` convention (e.g., `01-introduction-to-ai/`, `01-basic-concepts.md`) to maintain logical ordering and clarity.

## Article V: Naming, Ordering, and Folder Structure Rules

### Section 5.1: Required Directory Structure
The Project shall maintain the following core directory structure:

-   `/docs`: Contains all Docusaurus Markdown files for the book content.
-   `/specs`: Houses all project specifications, including this Constitution.
-   `/specs/components`: Specifications for reusable UI or content components.
-   `/specs/skills`: Specifications for atomic AI skills.
-   `/specs/subagents`: Specifications for composite AI subagent workflows.
-   `/examples`: Contains supplementary code examples, datasets, or other illustrative materials.
-   `/static`: Docusaurus static assets (images, fonts, etc.).

### Section 5.2: Ordering Rules and Sidebar Consistency
-   Content within `/docs` must be logically ordered using the `NN-prefix` convention for folders and files, which directly dictates Docusaurus sidebar navigation.
-   The Docusaurus sidebar configuration must accurately reflect the `/docs` folder structure and maintain consistency across all chapters and sections.

## Article VI: Governance of AI Behavior

### Section 6.1: AI Responsibilities and Constraints

#### AI MUST:
-   Strictly adhere to all defined Specifications and the directives within this Constitution.
-   Generate content only from the provided Source Material (PDF) and the explicit instructions in the Specifications.
-   Maintain deterministic and reproducible outputs.
-   Flag ambiguities or requirements for human clarification.
-   Ensure all outputs conform to quality standards (Article IV).
-   Create a Prompt History Record (PHR) for every user interaction.

#### AI MUST NOT:
-   Self-expand or unilaterally modify any Specification.
-   Reorder content, files, or folder structures outside the explicit directives of the Book Structure Spec or Naming, Ordering, and Folder Structure Rules (Article V).
-   Fabricate any content, data, or code not directly derived from the Source Material (PDF) or a defined generative process (e.g., summaries, quizzes, examples, which are *derived* from the source, not invented).
-   Make architecturally significant decisions without explicit human approval.

#### AI MAY:
-   Propose alternative approaches for human consideration.
-   Refine generated content based on human feedback.
-   Optimize internal workflows for efficiency, provided it does not violate determinism or any other constitutional principle.

#### AI MUST Always Ask Human Approval For:
-   Any modifications to the Constitution or any Specification.
-   Final approval of generated content before publication.
-   Deployment actions.
-   Resolving ambiguities in specifications or source material.
-   Architecturally significant decisions (see Article IX).

## Article VII: Reusable Intelligence Requirements

### Section 7.1: Principles for Reusable Intelligence
To ensure the long-term utility and portability of the AI components:

-   **Skills Must Be Stateless + Reusable:** Each Skill must operate independently, without retaining memory between invocations, and be designed for reuse across diverse contexts within or beyond the Project.
-   **Subagents Must Be Modular:** Subagents must be self-contained and encapsulate specific workflows, allowing them to be swapped, updated, or repurposed without impacting unrelated parts of the system.
-   **Outputs Must Be Structured:** All AI outputs, whether from Skills, Subagents, or the Orchestrator, must be in clearly defined, machine-readable formats (e.g., JSON, structured Markdown, code blocks) to facilitate downstream processing and integration.
-   **Agents Can Be Ported to Other Projects:** The design of Skills and Subagents must facilitate their extraction and integration into other Spec-Driven Development projects with minimal modification.

## Article VIII: Compliance & Validation

### Section 8.1: Pre-Deployment Checks
Before any deployment to GitHub Pages, the following compliance and validation checks MUST pass:

-   **Docusaurus Build Success:** The Docusaurus build process must complete without errors.
-   **Chapter Structure Match:** All generated chapters and sections must perfectly align with the definitions in the Book Structure Spec.
-   **No Broken Links:** All internal and external links within the generated book must be functional and valid.
-   **Content Traceability:** Every piece of generated content must be demonstrably traceable back to a specific section or concept within the original Source Material PDF.
-   **Specification Adherence:** All Specifications (Project, Book Structure, Chapter, Component, Skills, Subagents) must exist and be verifiably followed in the generated output.

## Article IX: Amendments

### Section 9.1: Amendment Procedure
This Constitution may only be amended under the following strict conditions:

-   **Explicit Human Instruction:** Amendments require clear, explicit instruction and approval from a human operator or architect. AI agents shall not propose or implement constitutional amendments autonomously.
-   **Maintenance of Determinism and Reproducibility:** Any proposed amendment must be evaluated to ensure it does not compromise the core principles of deterministic generation and reproducibility (Article I).
-   **Version Control:** All amendments shall be tracked via standard version control practices, and the `CONSTITUTION_VERSION` shall be incremented according to semantic versioning rules (MAJOR for backward-incompatible changes, MINOR for new sections/material expansion, PATCH for clarifications/fixes).

## Governance

This Constitution supersedes all other project practices, guidelines, or informal agreements. All AI agent actions, human reviews, and development activities must verify compliance with these articles. Any deviation requires explicit, documented human override.

**Version**: 1.0.0 | **Ratified**: 2025-12-04 | **Last Amended**: 2025-12-04